<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>15513 Cachelab - Jingcheng Wu</title><meta name="description" content="Cachelab solution brief descriptions. (subject to academic integrity policy)"/><meta property="og:description" content="Cachelab solution brief descriptions. (subject to academic integrity policy)"/>    <meta name="keywords" content="AI, NLP, CV, Industrial, Personal, CMU, UESTC"/><link rel="dns-prefetch" href="https://wu-jingcheng.github.io"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://wu-jingcheng.github.io"><link rel="icon" type="image/png" href="https://static.b3log.org/images/brand/solo-32.png"/><link rel="apple-touch-icon" href="https://static.b3log.org/images/brand/solo-32.png"><link rel="shortcut icon" type="image/x-icon" href="https://static.b3log.org/images/brand/solo-32.png"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="en_US"/><meta property="og:title" content="15513 Cachelab - Jingcheng Wu"/><meta property="og:site_name" content="Jingcheng Wu"/><meta property="og:url"      content="https://wu-jingcheng.github.io/articles/2020/06/23/1592844437541.html?"/><meta property="og:image" content="https://static.b3log.org/images/brand/solo-32.png"/><link rel="search" type="application/opensearchdescription+xml" title="15513 Cachelab - Jingcheng Wu" href="/opensearch.xml"><link href="https://wu-jingcheng.github.io/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://wu-jingcheng.github.io/manifest.json">        <link rel="canonical" href="https://wu-jingcheng.github.io/articles/2020/06/23/1592844437541.html">        <link rel="stylesheet"
              href="https://wu-jingcheng.github.io/skins/nijigen/css/base.css?1593439561167"/>
            <link rel="next" title="LeetCode repository" href="https://wu-jingcheng.github.io/articles/2020/06/23/1592905150573.html">
    </head>
<body>
<div class="bg"></div>
<div class="bg bg--1"></div>
<div class="bg bg--2"></div>
<div class="bg bg--3"></div>
<div class="bg bg--4"></div>
<div class="bg bg--5"></div>
<header class="header">
    <div class="header__wrap">
        <a href="https://wu-jingcheng.github.io" rel="start" class="header__logo">
            <i class="icon__home"></i> Jingcheng Wu
        </a>

        <nav class="mobile__hidden header__nav">
            <a href="https://wu-jingcheng.github.io/tags.html" rel="section">
                <i class="icon__tags"></i> Tag Cloud
            </a>
            <a href="https://wu-jingcheng.github.io/archives.html">
                <i class="icon__inbox"></i> Archive
            </a>
            <a rel="archive" href="https://wu-jingcheng.github.io/links.html">
                <i class="icon__link"></i> Friend Links
            </a>
            <a rel="alternate" href="https://wu-jingcheng.github.io/rss.xml" rel="section">
                <i class="icon__rss"></i> RSS
            </a>
        </nav>

    </div>
</header>
<div class="header__m fn__none">
    <i class="icon__list fn__none" onclick="$(this).next().slideToggle()"></i>
    <main class="module__list fn__none"></main>
    <i class="icon__more" onclick="$(this).next().slideToggle()"></i>
    <main class="module__list">
        <ul>
            <li>
                <a href="https://wu-jingcheng.github.io/tags.html" rel="section">
                    <i class="icon__tags"></i> Tag Cloud
                </a>
            </li>
            <li>
                <a href="https://wu-jingcheng.github.io/archives.html">
                    <i class="icon__inbox"></i> Archive
                </a>
            </li>
            <li>
                <a rel="archive" href="https://wu-jingcheng.github.io/links.html">
                    <i class="icon__link"></i> Friend Links
                </a>
            </li>
            <li>
                <a rel="alternate" href="https://wu-jingcheng.github.io/rss.xml" rel="section">
                    <i class="icon__rss"></i> RSS
                </a>
            </li>
        </ul>
    </main>
</div>
<div class="main" id="pjax">
    
    <div class="content">
        <main id="articlePage">
            <div class="article-list">
                <div class="item item--active">
                    <time class="vditor-tooltipped vditor-tooltipped__n item__date"
                          aria-label="2020">
                        06
                        <span class="item__day">24</span>
                    </time>

                    <h2 class="item__title">
                        <a rel="bookmark" href="https://wu-jingcheng.github.io/articles/2020/06/23/1592844437541.html">
                            15513 Cachelab
                        </a>
                    </h2>

                    <div class="item__date--m fn__none">
                        <i class="icon__date"></i>
                        2020-06-24
                    </div>

                    <div class="ft__center">
                        <span class="tag">
                            <i class="icon__tags"></i>
                            <a rel="tag" href="https://wu-jingcheng.github.io/tags/CMU">
                                CMU</a>,
                            <a rel="tag" href="https://wu-jingcheng.github.io/tags/15513">
                                15513</a>,
                            <a rel="tag" href="https://wu-jingcheng.github.io/tags/C">
                                C</a>,
                            <a rel="tag" href="https://wu-jingcheng.github.io/tags/English">
                                English</a>
                        </span>
                            <a class="tag" href="https://wu-jingcheng.github.io/articles/2020/06/23/1592844437541.html#b3logsolocomments">
                                <i class="icon__comments"></i> <span data-uvstatcmt="1592844437541">0</span> Comment
                            </a>
                        <span class="tag">
                            <i class="icon__views"></i>
                        <span data-uvstaturl="https://wu-jingcheng.github.io/articles/2020/06/23/1592844437541.html">0</span> View
                        </span>
                    </div>

                    <div class="vditor-reset">
                        <h1 id="toc_h1_0">Beforehand Statement</h1>
<p>According to academic integrity policy presented on the course webpage:</p>
<p>I am subject to the following limits:</p>
<blockquote>
<p><strong>From Now and Into the Future:</strong></p>
<p>As a general principle, you may not provide detailed help with an assignment to students this semester or in future semesters for any of the above-listed courses (unless you are serving as a teaching assistant or instructor for the course.) The following are clarifications about which forms of aid are authorized and which are not. Note that they apply to <em>all</em> of the above listed courses and <em>from now and into the indefinite future</em>.</p>
<p><strong>Sharing:</strong> You <strong>may not</strong> supply a copy of a file or document to an individual student or via a public channel, such as a blog post.</p>
<p><strong>Providing access:</strong> <em>You <strong>may not</strong> have any of your solution files in unprotected directories or in unprotected code repositories, either by putting files in an unprotected location or by allowing protections to lapse. Be sure to store your work in protected directories, and log off when you leave an open cluster, to prevent others from copying your work. If you make use of a code repository, such as Github, make sure your work is kept private, even after you have left CMU.</em></p>
<p><em><strong>Coaching, Assisting, and Collaborating:</strong></em> You <strong>may not</strong> provide electronic, verbal, or written descriptions of code or other solution information.</p>
<ul>
<li>You <strong>may</strong> clarify ambiguities or vague points in class handouts or textbooks.</li>
<li>You <strong>may</strong> help others use the computer systems, networks, compilers, debuggers, profilers, code libraries, and other system facilities.</li>
<li>You <strong>may</strong> discuss and provide general, strategic advice about an assignment. Providing anything more detailed than a brief description or a block diagram is not allowed. Providing any kind of code or pseudo-code is not allowed. Providing explicit directions on how to assemble allowed blocks of code is forbidden.</li>
<li>You <strong>may</strong> provide suggestions of potential bugs based on high-level symptoms. Code-based debugging assistance is forbidden.</li>
</ul>
</blockquote>
<p>Therefore, this page would only discuss the lab and my solution in a brief and a rather vague way.</p>
<h1 id="toc_h1_1">Grade Result</h1>
<p>Autograder: 100/100</p>
<p>Sylte: --/--</p>
<p>Correctness Deductions: --/--</p>
<h1 id="toc_h1_2">Tasks</h1>
<table>
<thead>
<tr><th align="center">Traces assignment (ยง2)<br>Part A: Cache Simulator (ยง3)<br>Part B: Matrix Transpose (ยง4)<br>Style grading (ยง5)</th><th align="center">10 points<br>60 points<br>30 points<br>12 points</th></tr>
</thead>
<tbody>
<tr><td align="center">Total</td><td align="center">112 points</td></tr>
</tbody>
</table>
<h1 id="toc_h1_3">Way Out</h1>
<h2 id="toc_h2_4">Traces assignment</h2>
<p>We are required to write three trace scripts, where we are able to specify save or load operation of the data at memory addresses, to feed specific max ops limit and cause the in-build cache simulators to produce specific numbers of hits, misses and evictions.</p>
<p><strong>Way out</strong>:</p>
<p>Understand how cache works and analyze how your trace documents influence the cache.</p>
<h2 id="toc_h2_5">Part A: Cache Simulator</h2>
<p>We are supposed to build our own cache simulator that simulates the behaviors of a cache, given a series of memory operations.</p>
<p><strong>Way out</strong>:</p>
<p>The task itself is a rather complicated one that can be divided into several small tasks to solve.</p>
<ul>
<li>Stdin and getout: we can specify the command-line input by using standard lib methods such as getopt and sscanf and fetch the parameters encoded in the input.</li>
<li>set_val: set_val is a method designed by myself, which receive the address to set the tag, set_index under the framework of certain s (# of bits of set_index), E (# of lines in one set) and b (# of bits of bytes offset).</li>
<li>2d arrays: we use 2d arrays to represent the cache and the dirty flag in set.</li>
<li>push_to_cache: take care of an operation specified by the op and the address. A array of counts of blocks in sets is established to track whether a set is fully loaded.</li>
</ul>
<h2 id="toc_h2_6">Part B: Matrix Transpose</h2>
<p>We should design a matrix transpose method that can handle the transpose operation of matrices of different sizes and use as few clock cycles as possible. The point is, we need to skillfully and carefully manage the memory access order to reduce the access time. The performance will be evaluated on a 32*32 matrix and a 1024*1024 matrix</p>
<p><strong>Way out</strong>: I've considered several strategies to reduce misses:</p>
<ul>
<li>Blocking in the matrix: allow the misses to tremendously decrease.</li>
<li>Diagonal: because the addresses of A (original matrix), B (matrix transpose) and tmp (temporary memory) are aligned to the cache. The transfer of the diagonal matrix blocks will trigger many misses and need to take care of. You can choose other matrix blocks in B or directly use tmp as intermediate to place the date.</li>
<li>Continue diagonal: remember that tmp can also go into confict with A or B in cache.</li>
<li>Only one set in tmp: consider using only one set in tmp to save misses. (But I failed on this, because it causes many hits at cost from my side)</li>
<li>Neat way to use B matrix blocks: (this is really helpful for me to save clock cycles) what if we arrange the matrix blocks access in the following way? When it comes to a diagonal block, we utilize another B matrix block, which is exactly the next B matrix block to access and would not cause conflict misses to the current A matrix block, as temporary memory to store data in the A block.</li>
</ul>
                    </div>
                </div>
            </div>

                <div class="module mobile__hidden">
                    <div class="module__content fn__clear">
                            <a href="https://wu-jingcheng.github.io/articles/2020/06/23/1592905150573.html" rel="next"
                               class="fn__right breadcrumb">
                                LeetCode repository: Next
                            </a>
                    </div>
                </div>


                <div class="module mobile__hidden fn__none">
                    <div class="module__content">
                        <a href="https://wu-jingcheng.github.io/articles/2020/06/23/1592905150573.html" rel="next"
                           class="breadcrumb">
                            Next: LeetCode repository
                        </a>
                    </div>
                </div>
                <div id="b3logsolocomments"></div>
                <div id="vcomment" class="module__content"
                     style="border-radius: 5px;margin-bottom: 30px;box-shadow: 1px 1px 3px 1px rgba(0,0,0,0.2);transition: all .3s;"
                     data-name="WuJingcheng" data-postId="1592844437541"></div>

            <div class="fn__flex article__relevant">
                <div class="fn__flex-1" id="externalRelevantArticlesWrap">
                    <div class="module">
                        <div id="externalRelevantArticles" class="module__list"></div>
                    </div>
                </div>
                <div class="mobile__hidden">&nbsp; &nbsp; &nbsp; &nbsp;</div>
                <div class="fn__flex-1" id="randomArticlesWrap">
                    <div class="module">
                        <div id="randomArticles" class="module__list"></div>
                    </div>
                </div>
                <div class="mobile__hidden">&nbsp; &nbsp; &nbsp; &nbsp;</div>
                <div class="fn__flex-1" id="relevantArticlesWrap">
                    <div class="module">
                        <div id="relevantArticles" class="module__list"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
<aside class="side">
        <div class="module">
            <div class="module__list">
<ul class="article__toc">
        <li class="toc__h1">
            <a href="#toc_h1_0">Beforehand Statement</a>
        </li>
        <li class="toc__h1">
            <a href="#toc_h1_1">Grade Result</a>
        </li>
        <li class="toc__h1">
            <a href="#toc_h1_2">Tasks</a>
        </li>
        <li class="toc__h1">
            <a href="#toc_h1_3">Way Out</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_4">Traces assignment</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_5">Part A: Cache Simulator</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_6">Part B: Matrix Transpose</a>
        </li>
</ul>            </div>
        </div>
        <section class="vditor-reset module">
            <main class="module__content">
                Incoming Graduate Student @ MSAII, CMU; 
Received (double degrees) BEng of Electronic Information Engineering and BMgmt of E commerce @ UESTC
            </main>
        </section>


    <div class="module item">
        <header class="module__header ft__center">
            WuJingcheng
        </header>
        <main class="module__content ft__center">
            <img class="side__avatar" src="https://b3logfile.com/avatar/1587746221791_1592839616748.jpeg?imageView2/1/w/128/h/128/interlace/0/q/100" alt="WuJingcheng"/>
            contact: wu_jingcheng@qq.com <br> <br>
    <a href="https://hacpai.com/member/WuJingcheng"
       title="https://hacpai.com/member/WuJingcheng"
       class="user__site"
       target="_blank" rel="noopener nofollow">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path fill="#d23f31" style="fill: var(--color1, #d23f31)" d="M5.787 17.226h17.033l5.954 9.528c0.47 0.752 0.003 1.361-1.042 1.361h-15.141z"></path>
            <path d="M10.74 3.927h17.033c1.045 0 1.512 0.609 1.042 1.361l-5.954 9.528h-19.872l6.379-10.209c0.235-0.376 0.849-0.681 1.372-0.681z"></path>
            <path d="M2.953 17.226h2.839l6.804 10.889h-1.892c-0.523 0-1.137-0.305-1.372-0.681z"></path>
        </svg>
    </a>

        <a href="https://github.com/Wu-Jingcheng"
           title="https://github.com/Wu-Jingcheng"
           class="user__site"
           target="_blank" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M16 0.331c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
            </svg>
        </a>

        </main>
    </div>


        <div class="module item">
            <header class="module__header">Tags</header>
            <main class="module__content--three module__content fn__clear">
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/English"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="3 PostsArticle">
                        English</a>
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/CMU"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 PostsArticle">
                        CMU</a>
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/15513"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 PostsArticle">
                        15513</a>
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/C"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 PostsArticle">
                        C</a>
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/Personal"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 PostsArticle">
                        Personal</a>
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/Chinese"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="2 PostsArticle">
                        Chinese</a>
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/LeetCode"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 PostsArticle">
                        LeetCode</a>
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/Coding"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 PostsArticle">
                        Coding</a>
                    <a rel="tag"
                       href="https://wu-jingcheng.github.io/tags/Java"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="1 PostsArticle">
                        Java</a>
            </main>
        </div>

    <div class="module item">
        <div class="module__header">
            <div class="fn__flex">
                <a href="https://wu-jingcheng.github.io/archives.html" class="fn__flex-1 ft__center">
                    5
                    Article
                </a>
            </div>
            <br/>
            <div class="fn__flex">
                <div class="fn__flex-1 ft__center">
                    <span data-uvstaturl="https://wu-jingcheng.github.io">0</span> <span class="ft-gray">View</span>
                </div>
            </div>
        </div>
    </div>
</aside>
    
</div>
</div>
<div class="icon__up" onclick="Util.goTop()"></div>
<footer class="footer">
    &copy; 2020
    <a href="https://wu-jingcheng.github.io">Jingcheng Wu</a>
    
    <div class="fn__none"></div>
</footer>
<div class="icon-up" onclick="Util.goTop()"></div>

<script>
  var Label = {
    servePath: "https://wu-jingcheng.github.io",
    staticServePath: "https://wu-jingcheng.github.io",
    luteAvailable: false,
    hljsStyle: 'github',
    langLabel: "en_US",
    version: "4.1.0",
    staticSite: true,
    showCodeBlockLn: false,
  }
</script>
<script type="text/javascript" src="https://wu-jingcheng.github.io/skins/nijigen/js/common.min.js?1593439561167" charset="utf-8"></script>


<script type="text/javascript">
    Util.addScript('https://wu-jingcheng.github.io/js/page.min.js?1593439561167', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "Sorry, your content must be between 2 and 500 characters long.",
        "oId": "1592844437541",
        "blogHost": "https://wu-jingcheng.github.io",
        "randomArticles1Label": "Random Articles:",
        "externalRelevantArticles1Label": "External Relevant Articles:"
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "0";
    Skin.initArticle()
    });
</script>

</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 23ms, 2020/06/29 22:26:00 -->